import{g as O,e as p,f as F}from"./BjVvDE9d.js";import{aj as j,b as B,h as d,a as G,ak as L,c as Q,d as Y,s as Z,e as D,U as P,O as I,Q as R,P as C,g as T,q as z,i as J,al as H,am as S,an as U,C as K,f as q,p as k,ao as M,B as V,ai as W,F as X,ag as $,L as aa}from"./zeTJEcYm.js";import{s as v}from"./DtvdVBXu.js";const N=0,g=1,x=2;function ea(o,r,i,n,l){d&&G();var e=o,m=j(),u=K,a=P,t,c,h,w=(m?R:C)(void 0),A=(m?R:C)(void 0),y=!1;function _(s,f){y=!0,f&&(H(E),S(E),U(u));try{s===N&&i&&(t?q(t):t=T(()=>i(e))),s===g&&n&&(c?q(c):c=T(()=>n(e,w))),s!==N&&t&&k(t,()=>t=null),s!==g&&c&&k(c,()=>c=null),s!==x&&h&&k(h,()=>h=null)}finally{f&&(U(null),S(null),H(null),M())}}var E=B(()=>{if(a===(a=r()))return;let s=d&&L(a)===(e.data===Q);if(s&&(e=Y(),Z(e),D(!1),s=!0),L(a)){var f=a;y=!1,f.then(b=>{f===a&&(I(w,b),_(g,!0))},b=>{if(f===a)throw I(A,b),_(x,!0),A.v}),d?i&&(t=T(()=>i(e))):z(()=>{y||_(N,!0)})}else I(w,a),_(g,!1);return s&&D(!0),()=>a=P});d&&(e=J)}async function ca(o=500){await new Promise(r=>setTimeout(r,o))}async function ta(o){const i=await(await fetch(o)).blob(),n=new FileReader;return await new Promise(e=>{n.onload=()=>e(n.result),n.onerror=()=>e(null),n.readAsDataURL(i)})}var sa=F('<img class="svelte-w26k6g"/>'),ra=F('<img class="svelte-w26k6g"/>');function fa(o,r){V(r,!0);const i=r.image.large,n=r.image.small,l=r.image.alt;var e=O(),m=W(e);ea(m,()=>ta(i),u=>{var a=ra();v(a,"src",n),v(a,"alt",l),p(u,a)},(u,a)=>{var t=sa();v(t,"alt",l),$(()=>v(t,"src",aa(a))),p(u,t)}),p(o,e),X()}export{fa as I,ca as d};
